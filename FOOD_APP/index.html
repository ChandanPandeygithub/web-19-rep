<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/navbar.css">
    <link rel="stylesheet" href="./css/index.css">
    
    <style>
        #dish {
            margin: auto;
            margin: 2%;
            width: 70%;
            text-align: center;
            height: 100px;
            color: red;
            background-color: black;
            padding: 5px;
        }
    </style>
</head>

<body>
    <div id="navbar"></div>
    <h1 id="dish">for example type dish name => " Arrabiata"</h1>
    <div id="container"></div>


    <!-- <select onchange="changefun(this.value)">
    <option disabled>category</option>
    <option value="category/jewelery">jewelery</option>
    <option value="category/electronics">electronics</option>
    <option value="category/men's clothing">men's clothing</option>
    <option value="category/women's clothing">women's clothing</option>
    </select> -->
    
    

    <!-- <div id="home">
        <h3><a href="#">home</a></h3>
    </div>
    <div id="option">
        <h3><a href="electronics.html">electronics</a></h3>
        <h3> <a href="jewellery.html"> jewellery</a></h3>
        <h3> <a href="#"> login</a></h3>
        <h3> <a href="#">signup</a></h3>
    </div> -->
   

</body>

</html>
<script type="module">
    
import navbar from './components/navbar.js';
import {gatedata,append_data} from './script/fetchandappend.js';





        let nav = document.getElementById("navbar");
        nav.innerHTML = navbar();
        let url = `https://www.themealdb.com/api/json/v1/1/random.php`;
        let res = await gatedata(url);
        console.log(res, "this is array");
        let container = document.getElementById("container");
        append_data(res, container);
        //container.addEventListener('load',append_data())
        //jwellery
        //electronics
        // men's wear
        let search = document.getElementById("search");
        search.addEventListener('keypress', myfun);

        async function myfun(e) {
            if (e.key == "Enter") {
                // let query = document.getElementById("search").value;
                // console.log(e.target.value);
                // console.log(query);
                let url = `https://www.themealdb.com/api/json/v1/1/search.php?s=${e.target.value}`;
                let res = await gatedata(url);
                console.log(res, e);
                append_data(res, container);
            }
        }
</script>